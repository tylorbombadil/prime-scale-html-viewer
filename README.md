# Prime Scale App – Sandbox Viewer Prototype

This repository serves as a **testing ground** for interactive prototype development. It enables real-time inspection and playback of generated musical scales based on prime number distributions. The goal is to provide a clean, modular bridge between Python-generated JSON data and a JavaScript-based browser visualization, preparing us for eventual integration into the full Prime Scale App.

---

## Purpose of This Prototype

This viewer allows developers to:
- Load JSON scale data generated by Python algorithms
- Visually inspect prime field distributions and selected notes
- Hear playback of generated tones (note playback will be refined in future versions)
- Validate structure and metadata completeness before migration to production JavaScript modules

The **long-term objective** is to:
> Translate validated Python core algorithms into JavaScript equivalents, preserving the logic and metadata pipeline.

---

## How It Works

- Scales are generated in Python and exported to the `/output/` directory as `.json` files.
- Each JSON file should contain both note data and a metadata block with fields like:
  - `log_prime_positions`: for drawing gray tick marks representing the prime field
  - `notes[]`: selected scale notes with frequency, MIDI, and log position
- A `manifest.json` file in `/output/` lists all scales available to load.
- `viewer.js` parses the selected JSON and renders:
  - Gray vertical lines for prime field ticks
  - Black circles for selected note locations

---

## Usage Instructions

1. **Generate Scale**
   Run your Python script to generate a `.json` file in `output/`

2. **Update Manifest**
   Your Python script should also update `output/manifest.json` to include the new scale filename

3. **Start Local Server**
   From the root folder, run:
   ```bash
   python3 -m http.server 8080
   ```
   Then visit: `http://localhost:8080`

4. **View & Interact**
   - Use the dropdown to select a scale file
   - Hover over the graph to see selected notes and tick marks
   - Use the button list to preview individual frequencies (if enabled)

---

## Folder Structure

```
project-root/
├── index.html          # Main HTML structure
├── viewer.js           # Dynamic viewer logic
├── output/
│   ├── manifest.json   # List of available scale files
│   └── *.json          # Individual generated scale files
```

---

## Developer Notes

- **Do not modify `viewer.js` for algorithm-specific quirks**. Keep logic modular and reference metadata consistently.
- If needed, enhance metadata in your Python scripts rather than hardcoding changes in the viewer.
- This viewer is intentionally simplified for testing. It will be replaced by the full React-based UI in the Prime Scale App.

---

## Future Plans

- Port Python algorithms into JS/TypeScript modules
- Replace static playback buttons with an interactive tone engine
- Integrate modular plugin discovery (based on algorithm metadata)
- Include graph overlays, zooming, and real-time debug output

---

**This sandbox is your playground to make the core logic work visually and sonically — before locking it into the final architecture.**
